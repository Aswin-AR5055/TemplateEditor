{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Preview Template</title>
  <style>
    body {
      width: 1200px; /* match your actual image dimensions */
      height: 800px;
      margin: 0 auto;
      position: relative;

      background: url("{% static 'editor/image/floral_bg.jpg' %}") no-repeat center center;
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center center;

      font-family: Arial, sans-serif;
    }

    .college {
      text-align: center;
      font-size: 32px;
      font-weight: bold;
      color: indigo;
      margin-top: 190px;
    }

    .location {
      text-align: center;
      font-size: 22px;
      color: indigo;
    }

    .heading {
      text-align: center;
      margin: 40px 50px 10px 50px;
      margin-top: 100px;
      font-size: 28px;
      font-weight: bold;
      color: red;
    }

    .message {
      text-align: center;
      margin: 0 50px;
      font-size: 20px;
      color: indigo;
      line-height: 1.5;
    }

    .footer {
      position: absolute;
      bottom: 50px;
      width: 100%;
      text-align: center;
      font-size: 20px;
      color: deeppink;
      margin-bottom: 50px;
    }

    .print-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 8px 12px;
    }

    .download-btn {
    position: fixed;
    top: 20px;
    left: 20px;
    }

    @media print {
      body {
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }
      @media print {
      .download-btn  {
      display: none !important;
  }
}

    }
  </style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

</head>
<body>
  <div class="college">Saiva Bhanu Kshatriya College</div>
  <div class="location">Aruppukottai</div>

  <div class="heading">{{ heading }}</div>
  <div class="message">{{ message }}</div>
  <div class="footer">
    Date: {{ date }} &nbsp; | &nbsp; Time: {{ time }} &nbsp; | &nbsp; Venue: {{ venue }}
  </div>

  <button class="download-btn" onclick="downloadPNG()">Download PNG</button>
<script>
  function downloadPNG() {
    // Get the button
    var btn = document.querySelector('.download-btn');

    // Hide it
    btn.style.display = 'none';

    // Wait a tick for the style to apply, then render
    html2canvas(document.body).then(function(canvas) {
      var link = document.createElement('a');
      link.download = 'certificate.png';
      link.href = canvas.toDataURL('image/png');
      link.click();

      // Show the button again after download
      btn.style.display = 'block';
    });
  }
</script>
</body>
</html>
